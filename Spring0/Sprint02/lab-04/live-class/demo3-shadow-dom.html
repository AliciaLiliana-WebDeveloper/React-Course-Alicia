<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Demo 3 Shadow DOM</title>

  <!-- CSS global (pisarÃ¡ los estilos si no usamos Shadow DOM) -->
  <style>
    h2 {
      color: red;
      font-size: 3rem;
      text-transform: uppercase;
      background: yellow;
      padding: 0.2rem;
    }

    p {
      color: green;
      font-size: 1.2rem;
      font-style: italic;
      background: #e0ffe0;
    }
  </style>
</head>
<body style="font-family: sans-serif; background:#f5f5f5; padding: 1rem">
  <h1>Demo 3: Encapsulamiento con Shadow DOM</h1>

  <h2>Elemento HTML normal (sin componente)</h2>
  <div class="card">
    <h2>Bloque normal</h2>
    <p>Este contenido se ve afectado por el CSS global</p>
  </div>

  <h2>Con Shadow DOM (estilos aislados)</h2>
  <my-card-shadow></my-card-shadow>

  <h2>Sin Shadow DOM (estilos globales se aplican)</h2>
  <my-card-no-shadow></my-card-no-shadow>

  <script>
    // Con Shadow DOM
    class MyCardShadow extends HTMLElement {
      constructor() {
        super();
        const shadow = this.attachShadow({ mode: "open" });
        shadow.innerHTML = `
          <style>
            .card {
              padding: 1rem;
              border: 2px solid #444;
              border-radius: 12px;
              background: linear-gradient(135deg, #e3f2fd, #bbdefb);
              font-family: sans-serif;
            }
            h2 {
              color: blue;
              font-size: 1.5rem;
              margin: 0 0 0.5rem 0;
            }
            p {
              color: #333;
              font-size: 1rem;
            }
          </style>
          <div class="card">
            <h2>Componente con Shadow DOM</h2>
            <p>Contenido afectado por CSS global</p>
          </div>
        `;
      }
    }
    customElements.define("my-card-shadow", MyCardShadow);

    // Sin Shadow DOM
    class MyCardNoShadow extends HTMLElement {
      connectedCallback() {
        this.innerHTML = `
          <style>
            .card {
              padding: 1rem;
              border: 2px solid #444;
              border-radius: 12px;
              background: linear-gradient(135deg, #ff3e0e, #ffe0b2);
              font-family: sans-serif;
            }
          h2 {
              color: blue;
              font-size: 1.5rem;
              margin: 0 0 0.5rem 0;
            }
            p {
              color: #333;
              font-size: 1rem;
            }
          </style>
          <div class="card">
            <h2>Componente con Shadow DOM</h2>
            <p>Contenido afectado por CSS global</p>
          </div>
        `;
      }
    }
    customElements.define("my-card-no-shadow", MyCardNoShadow);
  </script>
</body>
</html>
